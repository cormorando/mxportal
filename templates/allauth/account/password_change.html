{% extends "account/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Change Password" %}{% endblock %}

{% block content %}
    <h1>{% trans "Change Password" %}</h1>

    <form method="post" action="{% url 'account_change_password' %}" class="password_change">
        {% csrf_token %}
        {% if form.errors %}
            <div class="fixed-top">
            {% for error in form.non_field_errors %}
                <div class="alert alert-danger alert-dismissible fade show mb-0" role="alert">
                    {{ error|escape }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
            {% for error in form.oldpassword.errors %}
                <div class="alert alert-danger alert-dismissible fade show mb-0" role="alert">
                    {{ error|escape }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
            {% for error in form.password1.errors %}
                <div class="alert alert-danger alert-dismissible fade show mb-0" role="alert">
                    {{ error|escape }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
            {% for error in form.password2.errors %}
                <div class="alert alert-danger alert-dismissible fade show mb-0" role="alert">
                    {{ error|escape }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
            </div>
        {% endif %}
        {% load widget_tweaks %}
        {% render_field form.oldpassword class+="form-control" %}
        {% render_field form.password1 class+="form-control" %}
        {% render_field form.password2 class+="form-control mb-3" %}
        <button class="btn btn-lg btn-danger btn-block" type="submit" name="action">{% trans 'Change Password' %}</button>
    </form>
{% endblock %}
